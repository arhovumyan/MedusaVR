# Dockerfile.client.dev
FROM node:20
WORKDIR /app

# Copy package.json and package-lock.json to install dependencies
COPY package.json package-lock.json ./

# Install dependencies inside the container for the correct architecture
RUN npm install

# Copy the client source code
COPY client/ ./client/
COPY shared/ ./shared/
COPY vite.config.ts ./
COPY tsconfig.json ./
COPY tailwind.config.js ./
COPY postcss.config.js ./
COPY components.json ./

# Expose the port Vite development server runs on (default is 5173)
EXPOSE 5173

# Command to run the development server (defined in package.json)
CMD ["npm", "run", "dev:client"]
