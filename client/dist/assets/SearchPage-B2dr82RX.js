import{j as e}from"./ui-vendor-yJ52fMSG.js";import{r as t}from"./react-vendor-CgzYKCvO.js";import{u as f}from"./routing-DoJeAdmJ.js";import{b}from"./query-vendor-8KRGqY0G.js";import{L as j,B as o,b as N}from"./index-oGocYDT2.js";import{C as y}from"./cards-D_ks3dTG.js";import{S as v}from"./SEOHead-B7qdDKpT.js";import{i as c}from"./icons-CPY5GJO9.js";import"./utils--BulIq_u.js";const k=()=>{const[m]=f(),[a,x]=t.useState(""),[l,i]=t.useState(0);t.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("q");h&&x(decodeURIComponent(h))},[m]);const{data:s,isLoading:p,error:g}=b({queryKey:["character-search",a,l],queryFn:async()=>!a||a.length<2?null:await(await N("GET",`/api/characters/search?q=${encodeURIComponent(a)}&page=${l}`)).json(),enabled:!!a&&a.length>=2,staleTime:5*60*1e3});t.useEffect(()=>{i(0)},[a]);const d=s?.data||[],n=t.useMemo(()=>d,[d]),u=t.useMemo(()=>n.map(r=>({id:parseInt(r.id)||0,avatar:r.avatarUrl||r.avatar||r.imageUrl||r.profile_image||"",name:r.name,description:r.description||r.persona||"No description available",rating:r.rating?.toString()||"PG",nsfw:r.isNsfw||r.nsfw||!1,chatCount:r.chatCount||0,tagNames:r.tagNames})),[n]);return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:a?`Search Results for "${a}" - AI Characters | MedusaVR`:"Search AI Characters & Companions | MedusaVR",description:a?`Find AI characters matching "${a}". Browse NSFW characters, anime personalities, and AI companions for chat and roleplay.`:"Search through thousands of AI characters and companions. Find anime personalities, AI girlfriends, NSFW characters, and custom AI companions for chat and roleplay.",keywords:"search AI characters, find AI companions, AI character search, anime character search, NSFW AI search, AI girlfriend search, character finder",url:`https://medusa-vrfriendly.vercel.app/search${a?`?q=${encodeURIComponent(a)}`:""}`,structuredData:{"@context":"https://schema.org","@type":"SearchResultsPage",name:a?`Search Results for "${a}"`:"AI Character Search",description:"Search and discover AI characters and companions",url:`https://medusa-vrfriendly.vercel.app/search${a?`?q=${encodeURIComponent(a)}`:""}`}}),e.jsx("div",{className:"text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-0",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent mb-4",children:"Search AI Characters & Companions"}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("p",{className:"text-lg text-zinc-300 mb-4",children:"Find the perfect AI character for chat, roleplay, or creative conversations. Search through our extensive library of AI companions with unique personalities and styles."}),e.jsx("p",{className:"text-zinc-400",children:"Search by character name, personality traits, conversation topics, or character tags. Discover NSFW characters, anime personalities, realistic companions, and custom AI characters created by our community."})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:"Popular searches:"}),e.jsx("button",{className:"text-xs bg-zinc-800 hover:bg-zinc-700 px-2 py-1 rounded text-orange-400 transition-colors",children:"AI girlfriend"}),e.jsx("button",{className:"text-xs bg-zinc-800 hover:bg-zinc-700 px-2 py-1 rounded text-orange-400 transition-colors",children:"Anime characters"}),e.jsx("button",{className:"text-xs bg-zinc-800 hover:bg-zinc-700 px-2 py-1 rounded text-orange-400 transition-colors",children:"NSFW chat"}),e.jsx("button",{className:"text-xs bg-zinc-800 hover:bg-zinc-700 px-2 py-1 rounded text-orange-400 transition-colors",children:"Roleplay partners"})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-zinc-800/50 to-zinc-900/50 backdrop-blur-lg border border-orange-500/20 rounded-2xl p-8 shadow-2xl shadow-orange-500/10",children:a?a.length<2?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(c,{className:"w-16 h-16 text-zinc-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-zinc-300 mb-2",children:"Keep Typing..."}),e.jsx("p",{className:"text-zinc-400 mb-6",children:"Enter at least 2 characters to start searching"})]}):p?e.jsx("div",{className:"text-center py-16",children:e.jsx(j,{size:"lg",text:"Searching characters..."})}):g?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"mb-4",children:e.jsx(c,{className:"w-16 h-16 text-red-500 mx-auto mb-4"})}),e.jsx("h3",{className:"text-xl font-semibold text-red-300 mb-2",children:"Search Error"}),e.jsx("p",{className:"text-zinc-400 mb-4",children:"There was an error searching for characters"}),e.jsx(o,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]}):n.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-zinc-200 mb-2",children:["Found ",s?.pagination?.total||n.length," characters"]}),e.jsxs("p",{className:"text-zinc-400 text-sm",children:['Showing results for "',a,'"']})]}),e.jsx(y,{externalCharacters:u,externalLoading:!1,externalError:null}),s?.pagination&&e.jsxs("div",{className:"mt-8 flex justify-center items-center gap-4",children:[e.jsx(o,{variant:"outline",onClick:()=>i(r=>Math.max(0,r-1)),disabled:!s.pagination.hasPrev,className:"bg-zinc-800 border-orange-500/30 text-orange-400 hover:bg-orange-500/10",children:"Previous"}),e.jsxs("span",{className:"text-zinc-300",children:["Page ",s.pagination.page+1," of ",s.pagination.totalPages]}),e.jsx(o,{variant:"outline",onClick:()=>i(r=>r+1),disabled:!s.pagination.hasNext,className:"bg-zinc-800 border-orange-500/30 text-orange-400 hover:bg-orange-500/10",children:"Next"})]})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(c,{className:"w-16 h-16 text-zinc-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-zinc-300 mb-2",children:"No Results Found"}),e.jsxs("p",{className:"text-zinc-400 mb-6",children:['No characters found matching "',a,'". Try a different search term or check for typos.']}),e.jsxs("div",{className:"space-y-2 text-sm text-zinc-500",children:[e.jsx("p",{children:"ðŸ’¡ Tips for better results:"}),e.jsxs("ul",{className:"list-disc list-inside text-left max-w-md mx-auto space-y-1",children:[e.jsx("li",{children:'Try searching for partial names (e.g., "Sak" for "Sakura")'}),e.jsx("li",{children:"Search by character traits, personality, or tags"}),e.jsx("li",{children:"Use simpler, more general terms"}),e.jsx("li",{children:"Check spelling and try variations"}),e.jsx("li",{children:"Search by art style or genre"})]})]})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(c,{className:"w-16 h-16 text-zinc-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-zinc-300 mb-2",children:"Start Your Search"}),e.jsx("p",{className:"text-zinc-400 mb-6",children:"Enter a character name, description, or tag to find what you're looking for"})]})})]})})]})};export{k as default};
