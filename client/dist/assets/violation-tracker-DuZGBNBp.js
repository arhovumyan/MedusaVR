const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AccountDeletionService-DLhynxO7.js","assets/react-vendor-CgzYKCvO.js"])))=>i.map(i=>d[i]);
import{_ as u}from"./index-oGocYDT2.js";const d=["rape","raping","raped","rapist","kill","killing","killed","murder","murdering","murdered","blood","bloody","bleeding","bleed","abuse","abusing","abused","abusive","torture","torturing","tortured","violence","violent","brutally","brutal","assault","assaulting","assaulted","attack","attacking","attacked","hurt","hurting","harm","harming","harmed","beat","beating","beaten","stab","stabbing","stabbed","shoot","shooting","shot","choke","choking","choked","strangling","strangled","punch","punching","punched","slap","slapping","slapped","kick","kicking","kicked","hit","hitting","wound","wounded","injury","injured","cut","cutting","cuts","pain","painful","suffering","suffer","die","dying","death","dead","corpse","suicide","suicidal","self-harm","self harm","selfharm","gore","gory","grotesque","extreme violence","flogging","severe beating","suffocation","suffocating","suffocated","snuff","fantasy snuff","snuff film","self-mutilation","self mutilation","mutilation","mutilated","dismember","child","children","kid","kids","minor","minors","underage","baby","babies","infant","infants","toddler","toddlers","boy","boys","girl","girls","teen","teens","teenager","teenagers","young","youth","juvenile","school","student","students","child p0rn","loli","lolicon","shota","shotacon","child porn","cp","childporn","underage sex","minor sex","school girl","schoolgirl","school boy","schoolboy","high school","middle school","elementary","teenage sex","teen sex","animal","animals","beast","beasts","creature","creatures","dog","dogs","cat","cats","horse","horses","pig","pigs","cow","cows","sheep","goat","goats","chicken","chickens","wolf","wolves","bear","bears","lion","lions","tiger","tigers","elephant","elephants","monkey","monkeys","rabbit","rabbits","bird","birds","fish","snake","snakes","pet","pets","puppy","puppies","kitten","kittens","zebra","zebras","duck","ducks","hamster","hamsters","guinea pig","guinea pigs","bunny","bunnies","deer","fox","foxes","ape","apes","gorilla","gorillas","chimpanzee","chimpanzees","orangutan","orangutans","lizard","lizards","turtle","turtles","frog","frogs","zoo","farm","barnyard","bestiality","zoophilia","animal sex","crushing","crush fetish","animal crushing","live bugs","live animals","animal torture","nazi","hitler","holocaust","racist","racism","bigot","bigotry","hate","hatred","discrimination","slavery","slave","slaves","sacrilegious","blasphemy","vomit","vomiting","puke","puking","shit","shitting","defecate","feces","child","children","minor","minors","kid","kids","baby","babies","toddler","toddlers","teen","teens","teenage","teenager","teenagers","adolescent","adolescents","youth","young","boy","girl","boys","girls","underage","juvenile","juveniles","infant","infants","schoolchild","schoolchildren","pupil","pupils","student","students","preteen","preteens","tween","tweens","youngster","youngsters","little","small","tiny","child porn","cp","lolicon","shotacon","preadolescent","barely legal","jailbait","kindergarten","elementary","middle school","high school","child nudity","naked kid","child model","youth model","barely 18","almost 18","not quite 18","close to 18","drug","drugs","cocaine","heroin","meth","methamphetamine","marijuana","weed","cannabis","lsd","ecstasy","molly","crack","opium","morphine","fentanyl","addiction","overdose","high","stoned","dealer","dealing","trafficking","smuggling","weapon","weapons","gun","guns","rifle","pistol","knife","knives","blade","sword","bomb","explosive","terrorism","terrorist","illegal","criminal","crime","felony","nigger","nigga","chink","spic","wetback","kike","faggot","fag","dyke","tranny","nazi","hitler","kkk","white power","racist","racism","hate","supremacy","shit","poop","fart","vomit","puke","spit","snot","booger","feces","defecate","excrement","force","forced","forcing","forced sex","against will","without consent","kidnap","kidnapping","kidnapped","abduction","captive","prisoner","hostage","tied up","bound","restrained","drugged","unconscious","sleeping","sleep sex","unconscious sex","hypnosis","hypnotized","mind control","non-consensual","non consensual","alcohol","drunk","intoxicated","blackout","roofied","spiked drink","decapitation","beheading","cannibalism","cannibal","eating human","necrophilia","necrophiliac","autopsy","autopsy photos","dead body","sex trafficking","incest","incestuous","family sex","familial","brother sister","father daughter","mother son","dad daughter","mom son","parent child","sister brother","daughter father","son mother","uncle niece","aunt nephew","cousin cousin","family member","blood relative","blood relation","step brother","step sister","step father","step mother","stepdad","stepmom","stepdad daughter","stepmom son","half brother","half sister","half sibling","biological","biological family","genetic","family taboo","family relationship","family romance","polygamy","multiple wives","polygamous dating","cut myself","kill myself","hurt myself","end it all","want to die","suicide","self harm","cutting","razor blade","hanging myself","overdose","ignore previous","ignore instructions","new instructions","system prompt","you are now","pretend to be","roleplay as","act as if","forget you are","override","reprogram","jailbreak","dan mode","developer mode","god mode","unrestricted","no limits","no restrictions","bypass","circumvent","work around"];var h=(o=>(o.LOW="low",o.MEDIUM="medium",o.HIGH="high",o.CRITICAL="critical",o))(h||{});const m=["child","children","minor","underage","baby","infant","toddler","loli","shota","child porn","cp","teen sex","teenage sex","rape","forced","non-consensual","kidnap","abduction","bestiality","animal sex","zoophilia","incest","incestuous","family sex","familial","brother sister","father daughter","mother son","dad daughter","mom son","parent child"],p=["kill","murder","torture","gore","snuff","cannibalism","necrophilia","self-mutilation","autopsy photos"];function c(o){for(const t of o)if(m.some(e=>t.toLowerCase().includes(e.toLowerCase())))return"critical";for(const t of o)if(p.some(e=>t.toLowerCase().includes(e.toLowerCase())))return"high";return"medium"}function b(o){const t=o.toLowerCase(),e=[];for(const a of d)t.includes(a.toLowerCase())&&e.push(a);const i=e.length===0,s=i?"low":c(e),n=s==="critical",l=s==="high"||s==="medium";let r="";if(!i)switch(s){case"critical":r=`CRITICAL VIOLATION: Your account will be immediately banned for attempting to use prohibited content: ${e.join(", ")}. This type of content is strictly forbidden.`;break;case"high":r=`SEVERE VIOLATION: Your account has been flagged for attempting to use highly inappropriate content: ${e.join(", ")}. Continued violations will result in account termination.`;break;case"medium":r=`Content violation detected: ${e.join(", ")}. Please remove these words and try again. Repeated violations may result in account restrictions.`;break;default:r=`Content contains restricted words: ${e.join(", ")}. Please remove these words and try again.`}return{isAllowed:i,blockedWords:e,message:r,severity:s,shouldBan:n,shouldWarn:l}}function y(o){const t=o.toLowerCase(),e=[],i=["rape","child","minor","underage","kill","murder","blood","torture","abuse","loli","shota","animal sex","bestiality","zoophilia","baby","infant","toddler","cp","child porn","forced","non-consensual","kidnap","snuff","cannibalism","necrophilia","incest","incestuous","family sex"];for(const a of i)t.includes(a.toLowerCase())&&e.push(a);const s=e.length===0,n=s?"low":c(e),l=n==="critical",r=n==="high"||n==="medium";return{isAllowed:s,blockedWords:e,message:s?void 0:`Content contains restricted words: ${e.join(", ")}`,severity:n,shouldBan:l,shouldWarn:r}}class g{constructor(){this.violations=new Map,this.userSummaries=new Map}async logViolation(t){const e={...t,id:this.generateViolationId(),timestamp:new Date,resolved:!1},i=this.violations.get(t.userId)||[];return i.push(e),this.violations.set(t.userId,i),this.updateUserSummary(t.userId),await this.autoModerate(t.userId,e),e}getUserSummary(t){return this.userSummaries.get(t)||null}shouldRestrictUser(t){const e=this.getUserSummary(t);return e?e.severityBreakdown.critical>0?{shouldRestrict:!0,action:"ban",reason:"Critical content violations (minors, rape, bestiality, etc.)"}:e.severityBreakdown.high>=3?{shouldRestrict:!0,action:"ban",reason:"Multiple high-severity content violations"}:e.severityBreakdown.high>=1?{shouldRestrict:!0,action:"suspend",reason:"High-severity content violations",duration:24*7}:e.severityBreakdown.medium>=5?{shouldRestrict:!0,action:"suspend",reason:"Repeated content violations",duration:24*3}:e.severityBreakdown.medium>=3?{shouldRestrict:!0,action:"restrict",reason:"Multiple content violations",duration:24}:e.recentViolations>=10?{shouldRestrict:!0,action:"restrict",reason:"Excessive recent violations",duration:12}:e.totalViolations>=5?{shouldRestrict:!0,action:"warn",reason:"Multiple content violations"}:{shouldRestrict:!1,action:"warn",reason:""}:{shouldRestrict:!1,action:"warn",reason:""}}generateViolationId(){return"violation_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}updateUserSummary(t){const e=this.violations.get(t)||[],i=new Date(Date.now()-7*24*60*60*1e3),s={low:0,medium:0,high:0,critical:0};let n=0,l;for(const a of e)s[a.severity]++,a.timestamp>i&&n++,(!l||a.timestamp>l)&&(l=a.timestamp);const r=this.userSummaries.get(t);this.userSummaries.set(t,{userId:t,username:r?.username,totalViolations:e.length,recentViolations:n,severityBreakdown:s,lastViolation:l,status:this.calculateUserStatus(s,n),banExpiresAt:r?.banExpiresAt,restrictionsExpiresAt:r?.restrictionsExpiresAt})}calculateUserStatus(t,e){return t.critical>0||t.high>=3?"banned":t.high>=1||t.medium>=5?"suspended":t.medium>=3||e>=10?"restricted":t.medium>=1||e>=5?"warned":"active"}async autoModerate(t,e){const i=this.shouldRestrictUser(t);if(i.shouldRestrict){const s=this.userSummaries.get(t);if(s){if(s.status=i.action==="ban"?"banned":i.action==="suspend"?"suspended":i.action==="restrict"?"restricted":"warned",i.duration){const n=new Date(Date.now()+i.duration*60*60*1e3);i.action==="ban"||i.action==="suspend"?s.banExpiresAt=n:s.restrictionsExpiresAt=n}this.userSummaries.set(t,s)}if(console.log(`🚨 AUTO-MODERATION: User ${t} ${i.action}ed for: ${i.reason}`),i.action==="ban"&&!i.duration){console.log(`🚨 PERMANENT BAN DETECTED: Scheduling account deletion for user ${t}`);try{const{AccountDeletionService:n}=await u(async()=>{const{AccountDeletionService:r}=await import("./AccountDeletionService-DLhynxO7.js");return{AccountDeletionService:r}},__vite__mapDeps([0,1]));await n.scheduleAccountDeletion(t,`Permanent ban: ${i.reason}`)?console.log(`✅ Account deletion scheduled successfully for permanently banned user: ${t}`):console.error(`❌ Failed to schedule account deletion for permanently banned user: ${t}`)}catch(n){console.error(`❌ Error importing AccountDeletionService for user ${t}:`,n)}}}}isUserRestricted(t){const e=this.getUserSummary(t);if(!e)return{isRestricted:!1};const i=new Date;return e.status==="banned"&&(!e.banExpiresAt||e.banExpiresAt>i)?{isRestricted:!0,type:"banned",reason:"Account banned for severe content violations",expiresAt:e.banExpiresAt}:e.status==="suspended"&&(!e.banExpiresAt||e.banExpiresAt>i)?{isRestricted:!0,type:"suspended",reason:"Account suspended for content violations",expiresAt:e.banExpiresAt}:e.status==="restricted"&&(!e.restrictionsExpiresAt||e.restrictionsExpiresAt>i)?{isRestricted:!0,type:"restricted",reason:"Account restricted for content violations",expiresAt:e.restrictionsExpiresAt}:{isRestricted:!1}}}const w=new g;export{h as V,b as a,y as f,w as v};
